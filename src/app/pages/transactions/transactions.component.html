 <main style="font-family: cursive;">
  <button
  class="bg-blue-500 hover:bg-blue-600 transition-transform transform duration-150 ease-out hover:ease-in hover:scale-105 text-white py-2 px-4 rounded-xl shadow-lg mt-6 mx-12 font-extralight animate-bounce shadow-black"
  style="font-family: cursive;"
  (click)="createTransaction()"
>
    Crear
  </button>

  <table
    class="table-auto w-3/4 mx-auto mt-8 bg-white shadow-md rounded-lg overflow-hidden font-extralight"
    style="font-family: cursive;"
  >
    <thead class="bg-gray-200 text-gray-700 text-center">
      <tr>
        <th class="px-4 py-2">Fecha</th>
        <th class="px-4 py-2">Monto</th>
        <th class="px-4 py-2">Motivo</th>
        <th class="px-4 py-2">Ingreso/Egreso</th>
        <th class="px-4 py-2">Acciones</th>
      </tr>
    </thead>
    <tbody class="text-gray-700" style="font-family: cursive;">
      @for (transaction of transactions; track $index) {
      <tr [class.bg-gray-100]="($index + 1) % 2 === 0" class="border-t" style="font-family: cursive;">
        <td class="px-4 py-2 text-center border-r">{{ transaction.date }}</td>
        <td class="px-4 py-2 text-center border-r">{{ transaction.amount }}</td>
        <td class="px-4 py-2 text-center border-r">{{ transaction.reason }}</td>
        <td class="px-4 py-2 text-center border-r">
          {{ transaction.type_id }}
        </td>
        <td class="px-4 py-2 flex justify-center space-x-4">
          <button
            class="bg-red-500 hover:bg-red-600 text-white px-3 rounded-xl py-2 transition duration-700 ease-in-out font-extralight transform hover:scale-105 hover:rotate-180 animate-bounce hover:animate-spin"
            style="font-family: 'Cursive'"
            (click)="deleteTransaction(transaction.id)"
          >
          <span class="material-symbols-outlined">
            delete
            </span>
        </button>
          <button
            class="bg-yellow-500 hover:bg-yellow-600 text-white px-3 rounded-xl py-2 transition duration-300 ease-in-out font-extralight transform hover:scale-105 hover:-rotate-90 animate-bounce hover:animate-ping"
            style="font-family: 'Cursive'"
            (click)="updateTransaction(transaction)"
          >
          <span class="material-symbols-outlined">
            edit
            </span>
          </button>
        </td>
      </tr>
      }@empty {
      <tr class="text-center font-extralight" style="font-family: cursive;">
        <td colspan="5" class="px-4 py-2 text-gray-500">No hay datos</td>
      </tr>
      }
    </tbody>
  </table>

  @if (formTransaction) {
  <form
    class="w-3/4 mx-auto mt-10 bg-white p-6 shadow-md rounded-lg font-extralight"
    [formGroup]="formTransaction"
    (submit)="saveTransaction()"
    style="font-family: cursive;"
  >
    <div class="mb-4">
      <label class="block text-gray-700 font-bold mb-2" for="amount"
        >Monto:</label
      >
      <input
        class="w-full border-2 border-gray-300 p-3 rounded-lg focus:border-blue-500 outline-none font-extralight" style="font-family: cursive;"
        formControlName="amount"
        type="number"
        name="amount"
        placeholder="Monto"
      />
    </div>
    <div class="mb-4">
      <label class="block text-gray-700 font-bold mb-2" for="date"
        >Fecha:</label
      >
      <input
        class="w-full border-2 border-gray-300 p-3 rounded-lg focus:border-blue-500 outline-none font-extralight" style="font-family: cursive;"
        formControlName="date"
        type="date"
        name="date"
      />
    </div>
    <div class="mb-4">
      <label class="block text-gray-700 font-bold mb-2" for="reason"
        >Motivo:</label
      >
      <input
        class="w-full border-2 border-gray-300 p-3 rounded-lg focus:border-blue-500 outline-none font-extralight" style="font-family: cursive;"
        formControlName="reason"
        type="text"
        name="reason"
        placeholder="Motivo"
      />
    </div>
    <div class="mb-4">
      <label class="block text-gray-700 font-bold mb-2" for="type_id"
        >Ingreso/Egreso:</label
      >
      <select
        formControlName="type_id"
        id="type_id"
        class="w-full border-2 border-gray-300 p-3 rounded-lg focus:border-blue-500 outline-none font-extralight" style="font-family: cursive;"
        name="type_id"
      >
        <option [value]="null">Seleccione un Tipo</option>
        @for (item of types; track $index) {
        <option [value]="item.id">{{ item.type }}</option>
        }
      </select>
    </div>
    <div class="flex justify-end space-x-4">
      <button
        class="bg-green-500 hover:bg-green-600 text-white py-2 px-4 rounded-full transition duration-300 ease-in-out font-extralight transform hover:scale-105"
        style="font-family: cursive;"
        type="submit"
      >
        Guardar
      </button>

      <button
        class="bg-gray-500 hover:bg-gray-600 text-white py-2 px-4 rounded-full transition duration-300 ease-in-out font-extralight transform hover:scale-105"
        style="font-family: cursive;"
        (click)="cancelTransaction()"
      >
        Cancelar
      </button>

    </div>
  </form>
  }
</main>
